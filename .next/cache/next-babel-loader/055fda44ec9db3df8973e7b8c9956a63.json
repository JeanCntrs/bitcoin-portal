{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport MasterPage from '../components/MasterPage';\nimport BitcoinPrice from '../components/BitcoinPrice';\nimport BitcoinNews from '../components/BitcoinNews';\nimport fetch from 'isomorphic-unfetch';\n\nvar Index = function Index(_ref) {\n  var bitcoinPrice = _ref.bitcoinPrice,\n      bitcoinNews = _ref.bitcoinNews;\n  return __jsx(MasterPage, null, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-12\"\n  }, __jsx(\"h2\", {\n    className: \"mb-4\"\n  }, \"Precio del Bitcoin\"), __jsx(BitcoinPrice, {\n    bitcoinPrice: bitcoinPrice\n  })), __jsx(\"div\", {\n    className: \"col-md-12\"\n  }, __jsx(\"h2\", {\n    className: \"my-4\"\n  }, \"Noticias sobre Bitcoin\"), __jsx(BitcoinNews, {\n    bitcoinNews: bitcoinNews\n  }))));\n};\n\nIndex.getInitialProps = function _callee() {\n  var date, from, price, news, priceResponse, newsResponse;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          date = new Date();\n          from = \"\".concat(date.getFullYear(), \"-\").concat(date.getMonth() + 1, \"-\").concat(date.getDate());\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(fetch('https://api.coinmarketcap.com/v2/ticker/1/'));\n\n        case 4:\n          price = _context.sent;\n          _context.next = 7;\n          return _regeneratorRuntime.awrap(fetch(\"https://newsapi.org/v2/everything?q=bitcoin&from=\".concat(from, \"&sortBy=publishedAt&apiKey=0be8624741a24c83aacfec3de6653319&language=es\")));\n\n        case 7:\n          news = _context.sent;\n          _context.next = 10;\n          return _regeneratorRuntime.awrap(price.json());\n\n        case 10:\n          priceResponse = _context.sent;\n          _context.next = 13;\n          return _regeneratorRuntime.awrap(news.json());\n\n        case 13:\n          newsResponse = _context.sent;\n          return _context.abrupt(\"return\", {\n            bitcoinPrice: priceResponse.data.quotes.USD,\n            bitcoinNews: newsResponse.articles\n          });\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}